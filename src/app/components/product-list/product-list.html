<div class="p-4">
    <h1 class="font-bold text-2xl text-blue-500 mb-4">Productos</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        <!-- Skeletons de carga -->
        <ng-container *ngIf="loading">
            <div *ngFor="let skeleton of [1,2,3,4,5,6,7,8]" class="bg-gray-200 animate-pulse h-60 rounded-lg"></div>
        </ng-container>

        <!-- Productos -->
        <ng-container *ngIf="!loading">
            <div *ngFor="let product of products"
                class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 transform hover:scale-105 flex flex-col justify-between">

                <!-- Imagen -->
                <img [src]="product.imageUrl" [alt]="product.name"
                    class="w-full h-40 object-cover rounded-lg mb-3 transition-all duration-300" />

                <!-- Detalles del producto -->
                <div class="flex flex-col flex-grow">
                    <h3 class="text-lg font-semibold text-gray-800">{{ product.name }}</h3>
                    <p class="text-sm text-gray-600 mb-1">{{ product.description }}</p>
                    <p class="text-blue-600 font-bold text-md mb-3">$ {{ product.price }}</p>
                </div>

                <!-- Acciones del carrito -->
                <div *ngIf="isInCart(product.id); else addToCartTemplate" class="flex items-center gap-2">
                    <button (click)="decreaseQuantity(product.id)"
                        class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md">-</button>
                    <span class="text-sm font-medium">{{ getCartQuantity(product.id) }}</span>
                    <button (click)="increaseQuantity(product.id)"
                        class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-md">+</button>
                </div>

                <!-- BotÃ³n para agregar al carrito -->
                <ng-template #addToCartTemplate>
                    <button (click)="addToCart(product)"
                        class="bg-blue-500 hover:bg-blue-600 text-white w-full py-2 rounded-md transition">
                        Agregar al carrito
                    </button>
                </ng-template>
            </div>
        </ng-container>
    </div>
</div>