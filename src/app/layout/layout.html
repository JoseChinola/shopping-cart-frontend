<div class="flex h-screen bg-gray-100">
    @if(sidebarOpen||isDesktop){
    <app-sidebar></app-sidebar>
    }

    <div class="flex-1 flex flex-col">
        <app-header (toggleSidebar)="toggleSidebar()" (openCart)="toggleCart()"></app-header>

        <main class="flex-1 overflow-y-auto p-4">
            <router-outlet />

            <div *ngIf="cartOpen" (click)="closeCart()" class="fixed inset-0 bg-black bg-opacity-50 z-40"></div>

            <!-- Drawer carrito -->
            <app-cart *ngIf="cartOpen" (close)="closeCart()"
                class="fixed top-4 right-0 h-[calc(100%-1rem)] w-96 bg-white shadow-xl overflow-y-auto p-6 flex flex-col z-50"
                (click)="$event.stopPropagation()">
            </app-cart>
        </main>
    </div>
</div>